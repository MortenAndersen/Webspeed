document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".carousel").forEach((e=>{const t=e.querySelector(".carousel-track"),n=Array.from(t.querySelectorAll(".carousel-item")),r=e.querySelector(".prev"),o=e.querySelector(".next");let a=0,c=0,l=0,s=1,d=!1;function i(){s=function(){const e=window.innerWidth;return e>=1200?4:e>=900?3:e>=320?2:1}();const e=window.getComputedStyle(t);l=parseFloat(e.gap)||0,c=t.querySelector(".carousel-item").getBoundingClientRect().width}function u(e,n=!0){const r=-e*(c+l);t.style.transition=n?"transform 0.5s ease":"none",t.style.transform=`translateX(${r}px)`}function v(e){d||(d=!0,a=e,u(a))}window.addEventListener("load",(()=>{i(),u(a,!1),o.addEventListener("click",(()=>v(a+1))),r.addEventListener("click",(()=>v(a-1))),t.addEventListener("transitionend",(()=>{const e=n.length-s;a>e?(a=0,u(a,!1)):a<0&&(a=n.length-s,u(a,!1)),d=!1})),window.addEventListener("resize",(()=>{i(),u(a,!1)}));const e=setInterval((()=>{a<n.length-s&&v(a+1)}),3e3);[t,o,r].forEach((t=>{t.addEventListener("mouseenter",(()=>clearInterval(e))),t.addEventListener("touchstart",(()=>clearInterval(e)))}))}))}))}));