document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".carousel").forEach((e=>{let t=e.querySelector(".carousel-track"),n=Array.from(t.querySelectorAll(".carousel-item")),r=e.querySelector(".prev"),a=e.querySelector(".next"),o=0,l=0,d=0,i=1,c=!1;function s(){let e=window.innerWidth;return e>=1200?4:e>=900?3:e>=370?2:1}function u(){i=s();let e=window.getComputedStyle(t);d=parseFloat(e.gap)||0,l=t.querySelector(".carousel-item").getBoundingClientRect().width}function $(e,n=!0){let r=-e*(l+d);t.style.transition=n?"transform 0.5s ease":"none",t.style.transform=`translateX(${r}px)`}function v(e){c||(c=!0,$(o=e))}window.addEventListener("load",(function(){i=s(),u(),$(o,!1),a.addEventListener("click",(()=>v(o+1))),r.addEventListener("click",(()=>v(o-1))),t.addEventListener("transitionend",(()=>function(e){let t=e.length;o>=t-i?$(o=0,!1):o<0&&$(o=t-i,!1),c=!1}(n))),window.addEventListener("resize",(()=>{u(),$(o,!1)}));let e=setInterval((()=>{o<n.length-i&&v(o+1)}),3e3);[t,a,r].forEach((t=>{t.addEventListener("mouseenter",(()=>clearInterval(e))),t.addEventListener("touchstart",(()=>clearInterval(e)))}));let l=0;t.addEventListener("touchstart",(e=>{l=e.touches[0].clientX})),t.addEventListener("touchend",(e=>{let t=l-e.changedTouches[0].clientX;Math.abs(t)>50&&v(t>0?o+1:o-1)})),t.addEventListener("dragstart",(e=>e.preventDefault()))}))}))}));