document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".carousel");e.forEach(e=>{let t=e.querySelector(".carousel-track"),n=Array.from(t.querySelectorAll(".carousel-item")),r=e.querySelector(".prev"),l=e.querySelector(".next"),a=0,o=0,d=0,i=1,c=!1;function s(){let e=window.innerWidth;return e>=1200?4:e>=900?3:e>=370?2:1}function u(){i=s();let e=window.getComputedStyle(t);d=parseFloat(e.gap)||0,o=t.querySelector(".carousel-item").getBoundingClientRect().width}function $(e,n=!0){let r=-(e*(o+d));t.style.transition=n?"transform 0.5s ease":"none",t.style.transform=`translateX(${r}px)`}function _(e){c||(c=!0,$(a=e))}function v(e){let t=e.length;a>=t-i?$(a=0,!1):a<0&&$(a=t-i,!1),c=!1}function E(){i=s(),u(),$(a,!1),l.addEventListener("click",()=>_(a+1)),r.addEventListener("click",()=>_(a-1)),t.addEventListener("transitionend",()=>v(n)),window.addEventListener("resize",()=>{u(),$(a,!1)});let e=setInterval(()=>{a<n.length-i&&_(a+1)},3e3);[t,l,r].forEach(t=>{t.addEventListener("mouseenter",()=>clearInterval(e)),t.addEventListener("touchstart",()=>clearInterval(e))});let o=0;t.addEventListener("touchstart",e=>{o=e.touches[0].clientX}),t.addEventListener("touchend",e=>{let t=o-e.changedTouches[0].clientX;Math.abs(t)>50&&(t>0?_(a+1):_(a-1))}),t.addEventListener("dragstart",e=>e.preventDefault())}window.addEventListener("load",E)})});